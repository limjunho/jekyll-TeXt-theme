---
title: Snull device driver
tags: Network
---

## 개요  

[linux device drvier 종류](https://limjunho.github.io/2021/03/25/Device_driver.html#device-driver)  
 
네트워크 인터페이스에서 커널과의 상호작용으로 데이터 혹은 패킷을 물리계층을 통해 전송 역할을 하는 것이 네트워크 디바이스 드라이버이다.   

네트워크 디바이스 드라이버는 리눅스 상의 /dev 디렉터리에 디바이스 파일이 존재하지 않으며 디바이스 드라이버 프로그래밍에서 사용되는 파일 연산 함수인 read(), write() 등의 함수도 사용하지 않는다.  
또한, 블록 디바이스 드라이버와의 차이점은 블록 드라이버는 커널에서 들어오는 요청만 처리하는 반면, 네트워크 디바이스 드라이버는 외부와 비동기적으로 패킷을 송수신한다. 따라서 네트워크 디바이스 드라이버는 주소 설정, 전송을 위한 파라미터 설정, 오류 통계 유지 등의 많은 작업을 지원할 수 있도록 해야 한다.  
이를 위해 필요한 것이 네트워크 디바이스 드라이버 프로그래밍이다.  

본 문서에서는 네트워크 디바이스 드라이버 프로그래밍을 수행하기 앞서 기본이 되는 Snull 네트워크 디바이스 드라이버의 코드를 정리한다.  
[Snull network device driver Github](https://github.com/martinezjavier/ldd3/tree/master/snull)

[send me email](mailto:jewel7492@gmail.com) if you have any questions.

<!--more-->

---

## Snull device driver  

* **Snull 네트워크 인터페이스는 가상의 IP 계층 주소 설정만을 이용하여 수행되며, 실질적으로 데이터 링크 계층의 인터페이스를 이용하지 않는다.**  
* **Snull이 동작하는 원리는 루프백과 유사하다. 차이점은 출발지와 목적지가 다른 루프백이라 할 수 있다. 하나의 가상 인터페이스를 통해서 전송된 데이터가 다른 가상 인터페이스를 통해 수신되는 형태이다. 이는 데이터가 전송되는 도중에 출발지와 목적지 주소를 변경함으로써 가능하다.**
    * Snull 인터페이스는 하나의 호스트에서 이러한 루프백 효과를 위해 데이터가 전송되는 도중에 출발지와 목적지 주소의 3번째 옥텟의 LSB(Least Significant Bit)를 비트를 뒤집는다.

### sk_buff  






## 참고

> [Snull 디바이스 드라이버 - pmj0403](https://pmj0403.tistory.com/entry/Snull-%EB%94%94%EB%B0%94%EC%9D%B4%EC%8A%A4-%EB%93%9C%EB%9D%BC%EC%9D%B4%EB%B2%84)  