---
title: Node.js request module
tags: Node.js
---

## Summry

본 문서에서는 node.js에서 api요청하기위해 사용하는 request module에 대해 정리한다.  

[send me email](mailto:jewel7492@gmail.com) if you have any questions.

<!--more-->

---

## module install

```bash
$ npm install request --save
```

## Get request

```javascript
const request = require("request");
 
request({
    uri :"http://127.0.0.1:3000/test",
    method: "GET",
    function(err, res, body) { 
        console.log(body);
    },
});
```

**Parameter가 있다면**  
```javascript
const request = require("request");
 
request({
    uri :"http://127.0.0.1:3000/test",
    method: "GET",
    qs:{
        test:5
    }
    function(err, res, body) { 
        console.log(body);
    },
});
```
**qs(query string)옵션을 사용한다. 최종 url은 http://127.0.0.1:3000/test?test=5가 된다.**  

## Post request

### Form request
```javascript
const request = require("request");
 
request({
    uri :"http://127.0.0.1:3000/test",
    method: "POST",
    form:{
        key:'value',
        key:'value',
    }
    function(err, res, body) { 
        console.log(res);
    },
});
```

### Json request
```javascript
const request = require("request");
 
request({
    uri :"http://127.0.0.1:3000/test",
    method: "POST",
    body:{
        key:'value',
        key:'value',
    }
    json:true //json으로 보낼경우 true로 해주어야 header값이 json으로 설정됩니다.
    function(err, res, body) { 
        console.log(res);
    },
});
```

### form/Multipart request

```javascript
const request = require("request");
 
request({
    uri :"http://127.0.0.1:3000/test",
    method: "POST",
    attachments: [
    fs.createReadStream(__dirname + '/attachment1.jpg'),
    fs.createReadStream(__dirname + '/attachment2.jpg')
    ],
    function(err, res, body) { 
        console.log(res);
    },
});
```

## Reference

> [MySQL 컬럼 자료형 확인 - ZETAWIKI](https://zetawiki.com/wiki/MySQL_%EC%BB%AC%EB%9F%BC_%EC%9E%90%EB%A3%8C%ED%98%95_%ED%99%95%EC%9D%B8)  
> [Mysql 기본 쿼리 명령어 - 자유코딩](https://fors.tistory.com/195)